<!doctype html><html lang="en"><head><title>Getting Started with Facebook Marketing API - Damien Gonot</title><link rel="stylesheet" href="/main.css"><link rel="stylesheet" href="/katex.min.css"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="What is Facebook Marketing API?

Facebook Marketing API is a way to automatically create, read, modify
and delete campaigns, ad sets, ads, creatives & more on Facebook‚Äôs
advertising platform, which covers Facebook ‚Äúfeed‚Äù, Facebook Messenger,
Instagram (stories & feed) etc‚Ä¶ using your favourite pr..."><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body class="bg-white dark:bg-black"><header class="bg-indigo-600 dark:bg-black text-center text-white p-8"><div class="text-4xl font-bold mb-4">Damien Gonot</div><div class="text-xl flex space-x-8 justify-center"><a href="/" class="hover:underline">Home</a> <a href="/blog" class="hover:underline">Blog</a> <a href="/notes" class="hover:underline">Notes</a> <a href="/about" class="hover:underline">About</a> <button id="theme" class="text-2xl hover:cursor-pointer hover:dark" onclick="toggleTheme()">üåù</button></div><script>function loadCss(e){let t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",`/highlight.${e}.css`),document.getElementsByTagName("head")[0].appendChild(t)}function toggleTheme(){"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.remove("dark"),document.getElementById("theme").innerText="üåù",loadCss(localStorage.theme="light")):(document.documentElement.classList.add("dark"),document.getElementById("theme").innerText="üåûÔ∏è",loadCss(localStorage.theme="dark"))}"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),document.getElementById("theme").innerText="üåûÔ∏è",loadCss("dark")):(document.documentElement.classList.remove("dark"),document.getElementById("theme").innerText="üåù",loadCss("light"))</script><script src="/highlight.js"></script><script defer="defer" src="/katex.min.js"></script><script defer="defer" src="/katex-auto-render.min.js"></script><script>document.addEventListener("DOMContentLoaded",e=>{document.querySelectorAll("pre code").forEach(e=>{e.classList.remove("sourceCode"),0<e.classList.length&&e.classList.replace(e.classList[0],"language-"+e.classList[0]),hljs.highlightElement(e)}),renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script></header><div class="prose prose-indigo dark:prose-invert dark:prose-a:text-indigo-400 max-w-3xl mx-auto p-8"><h1 class="text-center">Getting Started with Facebook Marketing API</h1><div class="text-center">written on 2019-02-20</div><h2 id="what-is-facebook-marketing-api">What is Facebook Marketing API?</h2><p>Facebook Marketing API is a way to automatically create, read, modify and delete campaigns, ad sets, ads, creatives &amp; more on Facebook‚Äôs advertising platform, which covers Facebook ‚Äúfeed‚Äù, Facebook Messenger, Instagram (stories &amp; feed) etc‚Ä¶ using your favourite programming language.</p><p><a href="https://developers.facebook.com/docs/marketing-apis/">Read more about it on Facebook website</a>.</p><h2 id="generating-an-access-token">Generating an Access Token</h2><p>Go to <a href="https://developers.facebook.com/docs/marketing-apis/">https://developers.facebook.com/docs/marketing-apis/</a> and follow the steps to create a new Ads App. Make sure you select ‚ÄúImplement Marketing API‚Äù and ‚ÄúGet Started with the Ads Insights API‚Äù as shown below.</p><figure><img src="/images/create_new_fb_app.png" alt="facebook new app scenario interface"><figcaption aria-hidden="true">facebook new app scenario interface</figcaption></figure><p>You should then be able to go to your ads page through <a href="https://developers.facebook.com/apps/">https://developers.facebook.com/apps/</a>.</p><p>Navigate to Settings &gt; Basic. Copy and paste your App ID and App Secret somewhere safe.</p><figure><img src="/images/fb_settings_basic.png" alt="Settings Basic"><figcaption aria-hidden="true">Settings Basic</figcaption></figure><p>Navigate to Products &gt; Marketing API &gt; Tools. Select <code>ads_management</code> and <code>ads_read</code>. Click on Get Token. Your access token will appear on the screen. Copy and paste it somewhere safe.</p><figure><img src="/images/fb_marketingapi_tools.png" alt="Products Marketing API Tools"><figcaption aria-hidden="true">Products Marketing API Tools</figcaption></figure><p>You will need these credentials throughout this tutorial. Make sure no one else can have access to your access token as it can be used to read, create, modify and delete any ads in your ad accounts.</p><h2 id="our-first-facebook-marketing-api-request">Our First Facebook Marketing API Request</h2><p>A great way to interact with the Facebook Marketing API is through the official <a href="https://github.com/facebook/facebook-python-business-sdk"><code>facebook-python-business-sdk</code> Python package</a>. Other similar packages are available for Ruby, Node.js etc‚Ä¶ but I will be using Python in this tutorial.</p><p>You can install the package by running <code>pip3 install facebook_business</code> in a terminal (the package used to be distributed through the name <code>facebookads</code> so make sure you‚Äôre using the newer <code>facebook_business</code>). If you don‚Äôt have experience with <code>pip</code>, I suggest you read <a href="https://packaging.python.org/tutorials/installing-packages/">the official Python documentation about installing packages</a>.</p><p>Here is a code sample showcasing basic authentication with the API and printing a list of your Facebook ad accounts.</p><div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> facebook_business.api <span class="im">import</span> FacebookAdsApi</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> facebook_business.adobjects.user <span class="im">import</span> User</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>app_id <span class="op">=</span> <span class="st">&#39;REPLACE_BY_YOUR_APP_ID&#39;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>app_secret <span class="op">=</span> <span class="st">&#39;REPLACE_BY_YOUR_APP_SECRET&#39;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>access_token <span class="op">=</span> <span class="st">&#39;REPLACE_BY_YOUR_ACCESS_TOKEN&#39;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>FacebookAdsApi.init(app_id, app_secret, access_token)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>me <span class="op">=</span> User(fbid<span class="op">=</span><span class="st">&#39;me&#39;</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>my_accounts <span class="op">=</span> <span class="bu">list</span>(me.get_ad_accounts())</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_accounts)</span></code></pre></div><p>Save it under <code>index.py</code> (for example) and run it. You should see something similar appear in your terminal:</p><figure><img src="/images/get_fb_accounts.png" alt="get fb accounts"><figcaption aria-hidden="true">get fb accounts</figcaption></figure><p>üöÄ Congrats! You‚Äôve run your first Facebook Marketing API-based script.</p><p>(Of course I have many Facebook ad accounts but it‚Äôs perfectly normal if you only have one.)</p><p>This isn‚Äôt really exciting stuff yet as we‚Äôre only accessing basic information for now but stay tuned for more articles on this blog about what you can do with the Facebook Marketing API.</p></div></body></html>