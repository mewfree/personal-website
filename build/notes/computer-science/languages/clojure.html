<!doctype html><html lang="en"><head><title>Clojure - Damien Gonot</title><link rel="stylesheet" href="/main.css"><link rel="stylesheet" href="/katex.min.css"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Homepage  Notes  Computer Science  Programming Languages 
Clojure

Misc

   print to print for humans
   println to print with newline for humans
   pr to print for data
   prn to print with newline for data

Numbers

     1 1

    2

Sum

    reduce  1 2 3

    6

Strings

    Damien

    Damien..."><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body class="bg-white dark:bg-black"><header class="bg-indigo-600 dark:bg-black text-center text-white p-8"><div class="text-4xl font-bold mb-4">Damien Gonot</div><div class="text-xl flex space-x-8 justify-center"><a href="/" class="hover:underline">Home</a> <a href="/blog" class="hover:underline">Blog</a> <a href="/notes" class="hover:underline">Notes</a> <a href="/about" class="hover:underline">About</a> <a id="theme" class="text-2xl hover:cursor-pointer hover:dark" onclick="toggleTheme()">üåù</a></div><script>function loadCss(e){let t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",`/highlight.${e}.css`),document.getElementsByTagName("head")[0].appendChild(t)}function toggleTheme(){"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.remove("dark"),document.getElementById("theme").innerText="üåù",loadCss(localStorage.theme="light")):(document.documentElement.classList.add("dark"),document.getElementById("theme").innerText="üåûÔ∏è",loadCss(localStorage.theme="dark"))}"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),document.getElementById("theme").innerText="üåûÔ∏è",loadCss("dark")):(document.documentElement.classList.remove("dark"),document.getElementById("theme").innerText="üåù",loadCss("light"))</script><script src="/highlight.js"></script><script defer="defer" src="/katex.min.js"></script><script defer="defer" src="/katex-auto-render.min.js"></script><script>document.addEventListener("DOMContentLoaded",e=>{document.querySelectorAll("pre code").forEach(e=>{e.classList.remove("sourceCode"),0<e.classList.length&&e.classList.replace(e.classList[0],"language-"+e.classList[0]),hljs.highlightElement(e)}),renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script></header><div class="prose prose-indigo dark:prose-invert dark:prose-a:text-indigo-400 max-w-3xl mx-auto p-8"><h1>Clojure</h1><p><a href="../../../homepage">Homepage</a> / <a href="../../../notes">Notes</a> / <a href="../../computer-science">Computer Science</a> / <a href="../languages">Programming Languages</a> / Clojure</p><h2 id="misc">Misc</h2><ul><li><code class="verbatim">print</code> to print for humans</li><li><code class="verbatim">println</code> to print with newline for humans</li><li><code class="verbatim">pr</code> to print for data</li><li><code class="verbatim">prn</code> to print with newline for data</li></ul><h2 id="numbers">Numbers</h2><div class="sourceCode" id="cb1" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">+</span> <span class="dv">1</span> <span class="dv">1</span>)</span></code></pre></div><pre class="example"><code>2
</code></pre><p>Sum:</p><div class="sourceCode" id="cb3" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">reduce</span> <span class="kw">+</span> [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>])</span></code></pre></div><pre class="example"><code>6
</code></pre><h2 id="strings">Strings</h2><div class="sourceCode" id="cb5" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Damien&quot;</span></span></code></pre></div><pre class="example"><code>Damien
</code></pre><div class="sourceCode" id="cb7" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">apply</span> <span class="kw">str</span> (<span class="kw">reverse</span> <span class="st">&quot;Damien&quot;</span>))</span></code></pre></div><pre class="example"><code>neimaD
</code></pre><h3 id="string-interpolation">String Interpolation</h3><div class="sourceCode" id="cb9" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> name </span><span class="st">&quot;Damien&quot;</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>(<span class="kw">str</span> <span class="st">&quot;Hello &quot;</span> <span class="kw">name</span>)</span></code></pre></div><table><tbody><tr class="odd"><td>#'user/name</td></tr><tr class="even"><td>"Hello Damien"</td></tr></tbody></table><h2 id="variables">Variables</h2><div class="sourceCode" id="cb10" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> x </span><span class="dv">42</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div><table><tbody><tr class="odd"><td>#'user/x</td></tr><tr class="even"><td>42</td></tr></tbody></table><h2 id="nil">nil</h2><p>Check if something is <code class="verbatim">nil</code>:</p><div class="sourceCode" id="cb11" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">nil?</span> <span class="va">nil</span>)</span></code></pre></div><pre class="example"><code>true
</code></pre><p>Check if something is NOT <code class="verbatim">nil</code>:</p><div class="sourceCode" id="cb13" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>(some? <span class="va">nil</span>)</span></code></pre></div><pre class="example"><code>false
</code></pre><div class="sourceCode" id="cb15" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>(some? <span class="dv">1</span>)</span></code></pre></div><h2 id="functions">Functions</h2><p>"defn" = "def" + "fn" (define function)</p><div class="sourceCode" id="cb16" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> greet </span>[<span class="kw">name</span>] (<span class="kw">str</span> <span class="st">&quot;Hello, &quot;</span> <span class="kw">name</span>))</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>(greet <span class="st">&quot;Damien&quot;</span>)</span></code></pre></div><table><tbody><tr class="odd"><td>#'user/greet</td></tr><tr class="even"><td>"Hello, Damien"</td></tr></tbody></table><h3 id="multi-arity-functions">Multi-Arity Functions</h3><div class="sourceCode" id="cb17" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> greet</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  ([] (greet <span class="st">&quot;World!&quot;</span>))</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  ([<span class="kw">name</span>] (<span class="kw">str</span> <span class="st">&quot;Hello, &quot;</span> <span class="kw">name</span>)))</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>(greet <span class="st">&quot;Damien&quot;</span>)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>(greet)</span></code></pre></div><table><tbody><tr class="odd"><td>#'user/greet</td></tr><tr class="even"><td>"Hello, Damien"</td></tr><tr class="odd"><td>"Hello, World!"</td></tr></tbody></table><h3 id="anonymous-function-syntax">Anonymous Function Syntax</h3><p><code class="verbatim">#()</code> with <code class="verbatim">%</code> used as arguments (<code class="verbatim">%1</code>, <code class="verbatim">%2</code> for first and second arguments)</p><div class="sourceCode" id="cb18" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">map</span> #(<span class="kw">*</span> <span class="dv">2</span> <span class="va">%</span>) &#39;(<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>))</span></code></pre></div><table><tbody><tr class="odd"><td>2</td><td>4</td><td>6</td></tr></tbody></table><h2 id="data-structures">Data Structures</h2><h3 id="arrays">Arrays</h3><div class="sourceCode" id="cb19" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>&#39;(<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>)</span></code></pre></div><table><tbody><tr class="odd"><td>1</td><td>2</td><td>3</td></tr></tbody></table><div class="sourceCode" id="cb20" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">first</span> &#39;(<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>))</span></code></pre></div><pre class="example"><code>1
</code></pre><div class="sourceCode" id="cb22" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">last</span> &#39;(<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>))</span></code></pre></div><pre class="example"><code>3
</code></pre><h3 id="maps">Maps</h3><div class="sourceCode" id="cb24" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">get</span> {<span class="at">:a</span> <span class="dv">1</span> <span class="at">:b</span> <span class="dv">2</span>} <span class="at">:a</span>)</span></code></pre></div><pre class="example"><code>1
</code></pre><div class="sourceCode" id="cb26" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">get</span> {<span class="at">:a</span> <span class="dv">1</span> <span class="at">:b</span> <span class="dv">2</span>} <span class="at">:b</span>)</span></code></pre></div><pre class="example"><code>2
</code></pre><div class="sourceCode" id="cb28" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">get-in</span> {<span class="at">:error</span> {<span class="at">:code</span> <span class="dv">404</span> <span class="at">:message</span> <span class="st">&quot;Wrong location&quot;</span>}} [<span class="at">:error</span> <span class="at">:code</span>])</span></code></pre></div><pre class="example"><code>404
</code></pre><h2 id="metadata">Metadata</h2><p><a href="https://clojure.org/reference/metadata">https://clojure.org/reference/metadata</a> Metadata allows to attach arbitrary annotation to data. Metadata isn't considered an integral of the value of the object. It doesn't impact <code>equality</code> of the data. "Two objects that differ only in metadata are equal."</p><div class="sourceCode" id="cb30" data-results="output" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>(pprint (<span class="kw">meta</span> <span class="va">#&#39;+</span>))</span></code></pre></div><pre class="example"><code>{:added &quot;1.2&quot;,
 :ns #namespace[clojure.core],
 :name +,
 :file &quot;clojure/core.clj&quot;,
 :inline-arities #function[clojure.core/&gt;1?],
 :column 1,
 :line 986,
 :arglists ([] [x] [x y] [x y &amp; more]),
 :doc
 &quot;Returns the sum of nums. (+) returns 0. Does not auto-promote\n  longs, will throw on overflow. See also: +&#39;&quot;,
 :inline #function[clojure.core/nary-inline/fn--5606]}
</code></pre><div class="sourceCode" id="cb32" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> m </span>^<span class="at">:hi</span> [<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>])</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>(<span class="kw">meta</span> (<span class="kw">with-meta</span> m {<span class="at">:bye</span> <span class="va">true</span>}))</span></code></pre></div><table><tbody><tr class="odd"><td>#'user/m</td></tr><tr class="even"><td>{:bye true}</td></tr></tbody></table><h2 id="threading-macros">Threading Macros</h2><h3 id="thread-first">Thread-First</h3><div class="sourceCode" id="cb33" data-session="thread" data-results="none" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">require</span> &#39;[clojure.string <span class="at">:as</span> <span class="kw">str</span>])</span></code></pre></div><div class="sourceCode" id="cb34" data-session="thread" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>(str/split (str/upper-case <span class="st">&quot;a b c&quot;</span>) <span class="ss">#&quot; &quot;</span>)</span></code></pre></div><table><tbody><tr class="odd"><td>A</td><td>B</td><td>C</td></tr></tbody></table><p>Becomes</p><div class="sourceCode" id="cb35" data-session="thread" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;</span> <span class="st">&quot;a b c&quot;</span> (str/upper-case) (str/split <span class="ss">#&quot; &quot;</span>))</span></code></pre></div><table><tbody><tr class="odd"><td>A</td><td>B</td><td>C</td></tr></tbody></table><h3 id="thread-last">Thread-Last</h3><p>Insert as last argument</p><div class="sourceCode" id="cb36" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">-&gt;&gt;</span> (<span class="kw">range</span> <span class="dv">10</span>) (<span class="kw">filter</span> <span class="kw">odd?</span>))</span></code></pre></div><table><tbody><tr class="odd"><td>1</td><td>3</td><td>5</td><td>7</td><td>9</td></tr></tbody></table><h2 id="ifelse-statements">If/else statements</h2><div class="sourceCode" id="cb37" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">if</span> <span class="va">true</span> <span class="st">&quot;this is true&quot;</span> <span class="st">&quot;this is false&quot;</span>)</span></code></pre></div><pre class="example"><code>this is true
</code></pre><div class="sourceCode" id="cb39" data-exports="both"><pre class="sourceCode clojure"><code class="sourceCode clojure"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">if</span> <span class="va">false</span> <span class="st">&quot;this is true&quot;</span> <span class="st">&quot;this is false&quot;</span>)</span></code></pre></div><pre class="example"><code>this is false
</code></pre><h2 id="clojurescript">ClojureScript</h2><h3 id="javascript-interop"><a href="javascript">JavaScript</a> interop</h3><p><a href="https://lwhorton.github.io/2018/10/20/clojurescript-interop-with-javascript.html">https://lwhorton.github.io/2018/10/20/clojurescript-interop-with-javascript.html</a></p><h3 id="packages">Packages</h3><h4 id="reagent">Reagent</h4><p><a href="https://github.com/reagent-project/reagent">https://github.com/reagent-project/reagent</a> <a href="http://reagent-project.github.io/">http://reagent-project.github.io/</a> A minimalistic ClojureScript interface to React.js <a href="https://github.com/reagent-project/reagent/blob/master/doc/CreatingReagentComponents.md">https://github.com/reagent-project/reagent/blob/master/doc/CreatingReagentComponents.md</a></p><h4 id="nbb">nbb</h4><p><a href="https://github.com/babashka/nbb">https://github.com/babashka/nbb</a> Babahska for ClojureScript / Node.js</p><ol><li><p>scittle</p><p><a href="https://github.com/babashka/scittle">https://github.com/babashka/scittle</a> The Small Clojure Interpreter exposed for usage in browser script tags</p></li></ol><h4 id="shadow-cljs">shadow-cljs</h4><p><a href="https://github.com/thheller/shadow-cljs">https://github.com/thheller/shadow-cljs</a> ClojureScript compilation made easy</p><h4 id="secretary">secretary</h4><p><a href="https://github.com/clj-commons/secretary">https://github.com/clj-commons/secretary</a> A client-side router for ClojureScript</p><h3 id="resources">Resources</h3><p><a href="https://cljs.info/cheatsheet/">https://cljs.info/cheatsheet/</a></p><h4 id="clojurescript-for-react-developer">ClojureScript for React Developer</h4><p><a href="https://www.youtube.com/playlist?list=PLUGfdBfjve9VGzp7G1C9FYfH8Yk1Px-11">https://www.youtube.com/playlist?list=PLUGfdBfjve9VGzp7G1C9FYfH8Yk1Px-11</a></p><h2 id="packages-1">Packages</h2><h3 id="babashka">babashka</h3><p><a href="https://github.com/babashka/babashka">https://github.com/babashka/babashka</a> Native, fast starting Clojure interpreter for scripting</p><h3 id="clj-kondo">clj-kondo</h3><p><a href="https://github.com/clj-kondo/clj-kondo">https://github.com/clj-kondo/clj-kondo</a> A linter for Clojure code that sparks joy.</p><h3 id="coast">Coast</h3><p><a href="https://coast.swlkr.com/">https://coast.swlkr.com/</a> The Fullest Full Stack Clojure Web Framework</p><h3 id="hiccup">Hiccup</h3><p><a href="https://github.com/weavejester/hiccup">https://github.com/weavejester/hiccup</a> Fast library for rendering HTML in Clojure</p><h3 id="clojuredart">ClojureDart</h3><p><a href="https://github.com/Tensegritics/ClojureDart">https://github.com/Tensegritics/ClojureDart</a> A port of Clojure that compiles to Dart (Mostly for Flutter framework)</p><h3 id="datascript">DataScript</h3><p><a href="https://github.com/tonsky/datascript">https://github.com/tonsky/datascript</a> Immutable database and Datalog query engine for Clojure, ClojureScript and JS</p><h3 id="quickdoc">Quickdoc</h3><p><a href="https://github.com/borkdude/quickdoc">https://github.com/borkdude/quickdoc</a> Quick and minimal API doc generation for Clojure</p><h2 id="resources-1">Resources</h2><h3 id="syntax">Syntax</h3><p><a href="https://clojure.org/guides/learn/syntax">https://clojure.org/guides/learn/syntax</a></p><h3 id="clojure-by-example">Clojure by Example</h3><p><a href="https://kimh.github.io/clojure-by-example/">https://kimh.github.io/clojure-by-example/</a></p><h3 id="lambda-island-videos">Lambda Island videos</h3><h4 id="list-comprehension-with-clojure.corefor">List Comprehension with clojure.core/for</h4><p><a href="https://lambdaisland.com/episodes/list-comprehension-clojure-for">https://lambdaisland.com/episodes/list-comprehension-clojure-for</a></p><h4 id="seq-and-seqable">Seq and Seqable</h4><p><a href="https://lambdaisland.com/episodes/clojure-seq-seqable">https://lambdaisland.com/episodes/clojure-seq-seqable</a></p><h4 id="using-javascript-libraries-in-clojurescript">Using JavaScript libraries in ClojureScript</h4><p><a href="https://lambdaisland.com/episodes/javascript-libraries-clojurescript">https://lambdaisland.com/episodes/javascript-libraries-clojurescript</a></p><h4 id="clojure-keyword-arguments">Clojure Keyword Arguments</h4><p><a href="https://lambdaisland.com/episodes/clojure-keyword-arguments">https://lambdaisland.com/episodes/clojure-keyword-arguments</a></p><h4 id="clojurescript-interop">ClojureScript Interop</h4><p><a href="https://lambdaisland.com/episodes/clojurescript-interop">https://lambdaisland.com/episodes/clojurescript-interop</a></p></div></body></html>