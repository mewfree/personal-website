<!doctype html><html lang="en"><head><title>Ethereum - Damien Gonot</title><link rel="stylesheet" href="/main.css"><link rel="stylesheet" href="/katex.min.css"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Homepage  University  Computer Science  Blockchain  Cryptocurrencies
 Ethereum

What is L2

Rollup

Smart Contracts

httpsethereumorgendeveloperstutorials

Intro

  Smart contracts are a type of Ethereum account This means they have a
  balance and they can send transactions over the network Howe..."><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body class="bg-white dark:bg-black"><header class="bg-indigo-600 dark:bg-black text-center text-white p-8"><div class="text-4xl font-bold mb-4">Damien Gonot</div><div class="text-xl flex space-x-8 justify-center"><a href="/" class="hover:underline">Home</a> <a href="/blog" class="hover:underline">Blog</a> <a href="/university" class="hover:underline">University</a> <a href="/about" class="hover:underline">About</a> <a id="theme" class="text-2xl hover:cursor-pointer hover:dark" onclick="toggleTheme()">üåù</a></div><script>function loadCss(e){let t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",`/highlight.${e}.css`),document.getElementsByTagName("head")[0].appendChild(t)}function toggleTheme(){"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.remove("dark"),document.getElementById("theme").innerText="üåù",loadCss(localStorage.theme="light")):(document.documentElement.classList.add("dark"),document.getElementById("theme").innerText="üåûÔ∏è",loadCss(localStorage.theme="dark"))}"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),document.getElementById("theme").innerText="üåûÔ∏è",loadCss("dark")):(document.documentElement.classList.remove("dark"),document.getElementById("theme").innerText="üåù",loadCss("light"))</script><script src="/highlight.js"></script><script>hljs.highlightAll()</script><script defer="defer" src="/katex.min.js"></script><script defer="defer" src="/katex-auto-render.min.js"></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script></header><div class="prose prose-indigo dark:prose-invert dark:prose-a:text-indigo-400 max-w-3xl mx-auto p-8"><h1 class="text-center">Ethereum</h1><p><a href="../../../../homepage">Homepage</a> / <a href="../../../../university">University</a> / <a href="../../../computer-science">Computer Science</a> / <a href="../../blockchain">Blockchain</a> / <a href="../cryptocurrencies">Cryptocurrencies</a> / Ethereum</p><h2 id="what-is-l2">What is L2?</h2><p>Rollup?</p><h2 id="smart-contracts">Smart Contracts</h2><p><a href="https://ethereum.org/en/developers/tutorials/">https://ethereum.org/en/developers/tutorials/</a></p><h3 id="intro">Intro</h3><blockquote><p>Smart contracts are a type of Ethereum account. This means they have a balance and they can send transactions over the network. However they're not controlled by a user, instead they are deployed to the network and run as programmed. User accounts can then interact with a smart contract by submitting transactions that execute a function defined on the smart contract. Smart contracts can define rules, like a regular contract, and automatically enforce them via the code.</p></blockquote><p><em>High gas costs? Should check how expensive‚Ä¶</em></p><blockquote><p>Smart contracts alone cannot get information about "real-world" events because they can't send HTTP requests. This is by design as relying on external information could jeopardise consensus, which is important for security and decentralization.</p></blockquote><h3 id="languages">Languages</h3><p><a href="https://ethereum.org/en/developers/docs/smart-contracts/languages/">https://ethereum.org/en/developers/docs/smart-contracts/languages/</a></p><ul><li>Solidity: <a href="https://solidity.readthedocs.io/en/v0.7.4/">https://solidity.readthedocs.io/en/v0.7.4/</a></li><li>Vyper: <a href="https://vyper.readthedocs.io/en/stable/">https://vyper.readthedocs.io/en/stable/</a></li></ul><p>more advanced: Yul, intermediate to the EVM cheatsheet Solidity vs Vyper: <a href="https://reference.auditless.com/cheatsheet/">https://reference.auditless.com/cheatsheet/</a></p><h3 id="anatomy">Anatomy</h3><p><a href="https://ethereum.org/en/developers/docs/smart-contracts/anatomy/">https://ethereum.org/en/developers/docs/smart-contracts/anatomy/</a></p><ul><li><p><strong>Storage:</strong> permanently in the blockchain, expensive</p></li><li><p><strong>Memory:</strong> only stored during the contract's execution, cheaper</p></li><li><p><strong>Env var:</strong> block timestamp, <code class="verbatim">msg.sender</code>‚Ä¶</p></li><li><p><strong>Functions:</strong> <code class="verbatim">internal</code> (only accessible internally) vs <code class="verbatim">external</code> (can be called from other contracts and through transactions)</p></li><li><p><code class="verbatim">public</code> vs <code class="verbatim">private</code> for both functions and values?</p></li><li><p>view functions: "getter" function not modifying state</p></li><li><p>constructor functions: to initiate the state, only ran at contract creation</p></li><li><p>built-in functions: <code class="verbatim">address.send()</code></p></li><li><p>ERCs: set of standards</p></li></ul><p><a href="https://ethereum.org/en/developers/docs/security/">https://ethereum.org/en/developers/docs/security/</a></p><h3 id="resources">Resources</h3><h4 id="tutorials">Tutorials</h4><p><a href="https://ethereum.org/en/developers/tutorials/">https://ethereum.org/en/developers/tutorials/</a> <a href="https://learnxinyminutes.com/docs/solidity/">https://learnxinyminutes.com/docs/solidity/</a></p><h4 id="interactive-tutorials">Interactive Tutorials</h4><p><a href="https://cryptozombies.io/">https://cryptozombies.io/</a> <a href="https://ethernaut.openzeppelin.com/">https://ethernaut.openzeppelin.com/</a> <a href="https://vyper.fun/">https://vyper.fun/</a></p><h4 id="infrastructure">Infrastructure</h4><p><a href="https://infura.io/">https://infura.io/</a>: Ethereum node; have account and keys <a href="https://dashboard.alchemyapi.io/">https://dashboard.alchemyapi.io/</a>: Ethereum node; have account</p><h4 id="local-dev-env">Local Dev Env</h4><p><a href="https://ethereum.org/en/developers/local-environment/">https://ethereum.org/en/developers/local-environment/</a> <a href="https://openzeppelin.com/sdk/">https://openzeppelin.com/sdk/</a> interacting with smart contracts in the CLI <a href="https://hardhat.org/">https://hardhat.org/</a> compile, deploy, test, and debug your Ethereum software <a href="https://www.trufflesuite.com/">https://www.trufflesuite.com/</a> tools for smart contracts <a href="https://www.trufflesuite.com/ganache">https://www.trufflesuite.com/ganache</a> local copy of an Ethereum blockchain <a href="https://framework.embarklabs.io/">https://framework.embarklabs.io/</a> all-in-one for dapps <a href="https://eth-brownie.readthedocs.io/en/stable/deploy.html">https://eth-brownie.readthedocs.io/en/stable/deploy.html</a> Python-based, better than the rest? <a href="https://github.com/gakonst/foundry">https://github.com/gakonst/foundry</a> new (Dec 2021), very fast</p><ol><li><p>Foundry</p><p><a href="https://onbjerg.github.io/foundry-book/index.html">https://onbjerg.github.io/foundry-book/index.html</a> <code class="verbatim">forge init {project}</code> to start a new project</p></li></ol><h4 id="misc">Misc</h4><p><a href="https://github.com/tintinweb/smart-contract-sanctuary">https://github.com/tintinweb/smart-contract-sanctuary</a> lists all smart contracts on Etherscan? <a href="https://twitter.com/zapper_fi/status/1327035284677128192?s=09">https://twitter.com/zapper_fi/status/1327035284677128192?s=09</a> explain why "Approve DAI", "Enable USDC"</p><h2 id="technical-notes">Technical Notes</h2><h3 id="ethereum-accounts">Ethereum accounts</h3><p><a href="https://ethereum.org/en/developers/docs/accounts/#an-account-examined">https://ethereum.org/en/developers/docs/accounts/#an-account-examined</a></p><p>Ethereum accounts have four fields:</p><ul><li><code class="verbatim">nonce</code> ‚Äì a counter that indicates the number of transactions sent from the account. This ensures transactions are only processed once. If a contract account, this number represents the number of contracts created by the account</li><li><code class="verbatim">balance</code> ‚Äì the number of Wei owned by this address. Wei is a denomination of ETH and there are 1e+18 Wei per ETH.</li><li><code class="verbatim">codeHash</code> ‚Äì All such code fragments are contained in the state database under their corresponding hashes for later retrieval. For contract accounts, this is the code that gets hashed and stored as the codeHash. For externally owned accounts, the codeHash field is the hash of the empty string.</li><li><code class="verbatim">storageRoot</code> ‚Äì A 256-bit hash of the root node of a Merkle Patricia tree that encodes the storage contents of the account (a mapping between 256-bit integer values), encoded into the trie as a mapping from the Keccak 256-bit hash of the 256-bit integer keys to the RLP-encoded 256-bit integer values. This tree encodes the hash of the storage contents of this account, and is empty by default.</li></ul><p>Your private key is what you use to sign transactions, so it grants you custody over the funds associated with your account. You never really hold cryptocurrency, you hold private keys ‚Äì the funds are always on Ethereum's ledger.</p><h3 id="ethereum-clients">Ethereum clients</h3><p><a href="https://ethereum.org/en/developers/docs/nodes-and-clients/#clients">https://ethereum.org/en/developers/docs/nodes-and-clients/#clients</a> GETH: <a href="https://geth.ethereum.org/docs/">https://geth.ethereum.org/docs/</a> Go's Ethereum implementation OpenEthereum: <a href="https://github.com/openethereum/openethereum">https://github.com/openethereum/openethereum</a> Rust Trinity: <a href="https://trinity.ethereum.org/">https://trinity.ethereum.org/</a> Python</p><h3 id="ethereum-transactions">Ethereum transactions</h3><p><a href="https://ethereum.org/en/developers/docs/transactions/#whats-a-transaction">https://ethereum.org/en/developers/docs/transactions/#whats-a-transaction</a></p><p>A submitted transaction includes the following information:</p><ul><li><code class="verbatim">recipient</code> ‚Äì the receiving address (if an externally-owned account, the transaction will transfer value. If a contract account, the transaction will execute the contract code)</li><li><code class="verbatim">signature</code> ‚Äì the identifier of the sender. This is generated when the sender's private key signs the transaction and confirms the sender has authorised this transaction</li><li><code class="verbatim">value</code> ‚Äì amount of ETH to transfer from sender to recipient (in WEI, a denomination of ETH)</li><li><code class="verbatim">data</code> ‚Äì optional field to include arbitrary data</li><li><code class="verbatim">gasLimit</code> ‚Äì the maximum amount of gas units that can be consumed by the transaction. Units of gas represent computational steps</li><li><code class="verbatim">gasPrice</code> ‚Äì the fee the sender pays per unit of gas</li></ul><h3 id="ethereum-node-types">Ethereum node types</h3><p><a href="https://ethereum.org/en/developers/docs/nodes-and-clients/#node-types">https://ethereum.org/en/developers/docs/nodes-and-clients/#node-types</a></p><p>In fact, clients can run 3 different types of node - light, full and archive. There are also options of different sync strategies which enables faster synchronization time. Synchronization refers to how quickly it can get the most up-to-date information on Ethereum's state.</p><h4 id="full-node">Full node</h4><ul><li>Stores full blockchain data.</li><li>Participates in block validation, verifies all blocks and states.</li><li>All states can be derived from a full node.</li><li>Serves the network and provides data on request.</li></ul><h4 id="light-node">Light node</h4><ul><li>Stores the header chain and requests everything else.</li><li>Can verify the validity of the data against the state roots in the block headers.</li><li>Useful for low capacity devices, such as embedded devices or mobile phones, which can't afford to store gigabytes of blockchain data.</li></ul><h4 id="archive-node">Archive node</h4><ul><li>Stores everything kept in the full node and builds an archive of historical states. Needed if you want to query something like an account balance at block #4,000,000.</li><li>These data represent units of terabytes which makes archive nodes less attractive for average users but can be handy for services like block explorers, wallet vendors, and chain analytics.</li></ul><h2 id="protocols">Protocols</h2><h3 id="lending">Lending</h3><p><a href="https://compound.finance">https://compound.finance</a> <a href="https://app.aave.com">https://app.aave.com</a></p><h3 id="dexs-decentralized-exchanges">DEXs (Decentralized Exchanges)</h3><h4 id="amm">AMM</h4><ol><li><p>Uniswap</p><ol><li><p>V1</p><p>ERC20 &lt;&gt; ETH</p></li><li><p>V2</p><p>ERC20 &lt;&gt; ERC20</p></li><li><p>V3</p><p>Can add single assets as liquidity Will use a Layer-2</p><ol><li><p>Concentraded liquidity</p><p>Will be possible to concentrade liquidity in a specific range</p></li><li><p>Non-fungible liquidity</p><p>LP tokens won't be ERC20 anymore but ERC721 Trading fees no longer automatically reinvested</p></li><li><p>Flexible fees</p><p>0.05% =&gt; Stablecoins pairs 0.3% =&gt; Standard pairs 1% =&gt; Exotic pairs</p></li><li><p>Oracle</p><p>TWAP past 9 days on-chain</p></li><li><p>Pricing LP positions</p><p><a href="https://lambert-guillaume.medium.com/pricing-uniswap-v3-lp-positions-towards-a-new-options-paradigm-dce3e3b50125">https://lambert-guillaume.medium.com/pricing-uniswap-v3-lp-positions-towards-a-new-options-paradigm-dce3e3b50125</a></p></li></ol></li><li><p>Arbitrage</p><p><a href="https://github.com/ccyanxyz/uniswap-arbitrage-analysis">https://github.com/ccyanxyz/uniswap-arbitrage-analysis</a> <a href="https://github.com/libevm/subway">https://github.com/libevm/subway</a></p></li></ol></li><li><p>Sushiswap</p></li><li><p>Balancer</p></li><li><p>Kyberswap</p></li><li><p>0x</p></li><li><p>mistX</p><p><a href="https://mistx.io/">https://mistx.io/</a> Gasless swaps, no frontrunners</p></li><li><p>Futureswap</p><p><a href="https://www.futureswap.com/">https://www.futureswap.com/</a></p></li><li><p>for stablecoins</p><ol><li><p>Curve</p><p>AMM for stablecoins</p></li><li><p>Shells</p><p><a href="https://shells.exchange/">https://shells.exchange/</a> Another AMM for stablecoins</p></li><li><p>Swerve</p><p><a href="https://swerve.fi">https://swerve.fi</a></p></li></ol></li></ol><h4 id="orderbook-based">Orderbook-based</h4><ol><li><p>dYdX</p><ol><li><p>L2</p><p>Everything is done on L2 No gas fees once coins are deposited on L2 From time to time, L2 is synced to L1</p></li></ol></li><li><p>Fulcrum</p><p><a href="https://fulcrum.trade">https://fulcrum.trade</a></p></li><li><p>Deversifi</p><p><a href="https://deversifi.com">https://deversifi.com</a></p></li></ol><h4 id="aggregators">Aggregators</h4><p><a href="https://1inch.exchange">https://1inch.exchange</a> <a href="https://matcha.xyz">https://matcha.xyz</a> <a href="https://dex.ag">https://dex.ag</a> <a href="https://dex.guru">https://dex.guru</a></p><h3 id="hedge-funds">"Hedge Funds"</h3><h4 id="yearn">Yearn</h4><p>Automated on-chain hedge fund <a href="https://yearn.finance">https://yearn.finance</a></p><h4 id="stake-dao">Stake DAO</h4><p><a href="https://stakedao.org/">https://stakedao.org/</a></p><h4 id="rari-capital">Rari Capital</h4><p><a href="https://v2.rari.capital">https://v2.rari.capital</a></p><h4 id="harvest-finance">Harvest Finance</h4><p><a href="https://harvest.finance">https://harvest.finance</a></p><h4 id="keeper-dao">Keeper DAO</h4><p><a href="https://app.keeperdao.com">https://app.keeperdao.com</a></p><h4 id="formation.fi">Formation.fi</h4><p><a href="https://formation.fi/">https://formation.fi/</a> Yield farming optimizer</p><h3 id="derivates">Derivates</h3><p><a href="https://synthetix.io">https://synthetix.io</a></p><h4 id="options">Options</h4><ol><li><p>Hegic</p><p><a href="https://hegic.co">https://hegic.co</a></p></li><li><p>Pods</p><p><a href="https://www.pods.finance/">https://www.pods.finance/</a></p></li></ol><h3 id="alchemix">Alchemix</h3><p><a href="https://app.alchemix.fi/">https://app.alchemix.fi/</a> Deposit DAI, borrow up to 50% as alUSD Yield on DAI through YFI pays back the loan itself</p><h3 id="sideshift">sideshift</h3><p><a href="https://sideshift.ai/btc/eth">https://sideshift.ai/btc/eth</a> Not sure I understand the appeal?</p><h3 id="pop">Pop</h3><p><a href="https://pop.town/">https://pop.town/</a> High-yield staking for ETH and USDC</p><h3 id="fei">Fei</h3><p>New algo stablecoin</p><p>&lt;2021-04-07&gt; update: looks like Fei failed miserably‚Ä¶ <a href="https://rekt.news/fei-rekt/">https://rekt.news/fei-rekt/</a></p><h3 id="apwine">APWine</h3><p><a href="https://www.apwine.fi/">https://www.apwine.fi/</a> The protocol allowing you to trade unrealised yield.</p><h3 id="timeswap">TimeSwap</h3><p>"Like Uniswap, but for lending &amp; borrowing" <a href="https://app.timeswap.io/">https://app.timeswap.io/</a></p><h3 id="fodl">Fodl</h3><p><a href="https://fodl.finance/">https://fodl.finance/</a> Leveraged lending</p><h3 id="euler">Euler</h3><p><a href="https://www.euler.finance/#/">https://www.euler.finance/#/</a> Permissionless crypto lending markets are almost here.</p><h2 id="other-projects">Other Projects</h2><p><a href="https://zapper.fi">https://zapper.fi</a>: portfolio management <a href="https://feed.chain.link">https://feed.chain.link</a>: on-chain price reference data <a href="https://defirate.com">https://defirate.com</a> &amp; <a href="https://yieldfarming.info">https://yieldfarming.info</a>: yield rate comparison <a href="https://tornado.cash">https://tornado.cash</a>: anonymize ETH transactions</p><h2 id="flash-loans">Flash Loans</h2><p>AAVE, <del>dYdX</del>, Uniswap‚Ä¶ Kollateral: <a href="https://docs.kollateral.co">https://docs.kollateral.co</a> aggregated pools from different sources Balancer V2: <a href="https://twitter.com/fcmartinelli/status/1461777136071716875">https://twitter.com/fcmartinelli/status/1461777136071716875</a></p><h3 id="resources-1">Resources</h3><p><a href="https://defiprime.com/flahloans-comparison">https://defiprime.com/flahloans-comparison</a> <a href="https://money-legos.studydefi.com/#/dydx">https://money-legos.studydefi.com/#/dydx</a> <a href="https://github.com/fifikobayashi">https://github.com/fifikobayashi</a> this guy have some repos using flash loans</p><h2 id="flash-mints">Flash Mints</h2><p><a href="https://docs.makerdao.com/smart-contract-modules/flash-mint-module">https://docs.makerdao.com/smart-contract-modules/flash-mint-module</a></p><h2 id="mev">MEV</h2><p>Miner Extracted Value <a href="https://www.coindesk.com/ethereum-trading-bot-strategy-miner-extracted-value-research">https://www.coindesk.com/ethereum-trading-bot-strategy-miner-extracted-value-research</a></p><p>One can look at the waiting transactions on the Ethereum blockchains and upbid "profitable" transactions so it executes faster.</p><h3 id="flashbots">Flashbots</h3><p><a href="https://docs.flashbots.net/">https://docs.flashbots.net/</a></p><h2 id="resources-2">Resources</h2><p><a href="https://www.libevm.com/">https://www.libevm.com/</a></p></div></body></html>